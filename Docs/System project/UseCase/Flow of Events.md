# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Зарегистрироваться](#register)  
2.2 [Войти в аккаунт](#log_in_to_your_account)  
2.3 [Выйти из аккаунта](#sign_out_of_your_account)  
2.4 [Предложить анекдот](#offer_joke)  
2.5 [Добавить анекдот в избранное](#select_joke)  
2.6 [Просмотр анекдотов](#viewing_jokes)  
2.7 [Забанить/Разбанить пользователя](#ban_user)  
2.8 [Добавить/Изменить анекдот](#add_joke)  
2.9 [Добавить/Изменить категорию](#add_category)  
2.10 [Удалить категорию](#delete_category)  
2.11 [Удалить анекдот](#delete_joke)  

<a name="actors"/>
# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Анонимный пользователь | Человек, использующий систему для просмотров анекдотов |
| Пользователь | Пользователь, который зарегистрировался в приложении и может предлагать, сохранять анекдоты |
| Администратор | Пользователь, который зарегистрировался в приложении и имеющий возвможность управлять категориями и анекдотами, а также давать и забирать права у других пользователей |

<a name="use_case"/>

# 2 Варианты использования

<a name="register"/>
## 2.1 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись в приложении.  
**Предусловия.** Анонимный пользователь выбрал способ "Зарегистрироваться" для входа в приложение, выбрав пункт меню "Sign up".  
**Основной поток.**
1. Приложение отображает форму регистрации, в котором запрашивает у пользователя ввод имени и пароля;
2. Пользователь вводит своё имя, пароль;
3. Пользователь подтверждает ввод пароля;
4. Приложение проверят введённое имя на совпадение c именами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А1;
5. Приложение создает профиля пользователя в базе данных;
6. Приложение скрывает форму регистрации;
7. Вариант использования завершается.

**Альтернативный поток А1.**
1. Приложение сообщает пользователю, что пользователь с таким именем уже существует;
2. Приложение запрашивает у пользователя ввод другого имени;
3. Возврат к п.2 основного потока.


<a name="log_in_to_your_account"/>
## 2.2 Войти в аккаунт

**Описание.** Вариант использования "Войти в аккаунт" позволяет пользователю войти в учётную запись.  
**Предусловия.** Пользователь выбрал способ "Sign in" для входа в приложение.  
**Основной поток.**
1. Приложение отображает форму входа в учётную запись;
2. Пользователь вводит своё имя, пароль;
4. Приложение проверят введённое имя на совпадение и именами уже зарегистрированных пользователей. Если совпадение не выявлено, выполняется альтернативный поток А3;
6. Приложение скрывает форму входа;
7. Вариант использования завершается.
**Альтернативный поток А3.**
1. Приложение сообщает пользователю, что пользователь с таким именем не существует;
2. Приложение запрашивает у пользователя ввод других данных;
3. Возврат к п.2 основного потока.


<a name="sign_out_of_your_account"/>
## 2.3 Выйти из аккаунта

**Описание.** Вариант использования "Выйти из аккаунта" позволяет зарегистрированному пользователю выйти из учётной записи.  
**Предусловия.** Пользователь зарегистрирован в приложении и вошёл в аккаунт.   
**Основной поток.**
1. Пользователь выбирает пункт меню "Sign out" на главном окне приложения;
2. Приложение скрывает главное окно приложения;
3. Приложение отображает окно входа в приложение;
4. Вариант использования завершается.

<a name="offer_joke"/>
## 2.4 Предложить анекдот

**Описание.** Вариант использования "Предложить анекдот" позволяет пользователю отправить анекдот на расммотрение администрации.  
**Предусловия.** Пользователь вошел в аккаунт и хочет предложить анекдот.  
**Основной поток.**

1. Пользователь нажимает кнопку "Предложить анекдот";
2. Приложение отображает форму для ввода анекдота;
3. Пользователь вводит текст анекдота и выбирает категорию;
4. Приложение проверят введённые данные на корректность (количество символов в тексте анекдота, существование выбранное категории). Если совпадение не выявлено, выполняется альтернативный поток А4;
5. Приложение сохраняет анекдот в базу данных предложенных анекдотов;
6. Приложение скрывает форму ввода данных;
7. Вариант использования завершается.

**Альтернативный поток А4.**
1. Приложение сообщает пользователю, что данные введены неверно;
2. Приложение запрашивает у пользователя ввод других данных;
3. Возврат к п.2 основного потока.


<a name="select_joke"/>
## 2.5 Добавить анекдот в избранное

**Описание.** Вариант использования "Добавить анекдот в избранное" позволяет пользователю отметить анекдот, как понравившийся.  
**Предусловия.** Пользователь вошел в аккаунт и хочет добавить анекдот в избранное.  
**Основной поток.**

1. Пользователь открывает понравившийся анекдот;
2. Нажимает на кнопку "Добавить в избранное";
3. Приложение сохраняет анекдот в базу данных избранных анекдотов для данного пользователя;
4. Приложение сообщает пользователю, что анекдот был добавлен;
5. Вариант использования завершается.

<a name="viewing_jokes"/>
## 2.6 Просмотр анекдотов

**Описание.** Вариант использования "Просмотр анекдотов" позволяет всем пользователям просмотреть существующие анекдоты по категориям.  
**Предусловия.** Пользователь открыл приложение.  
**Основной поток.**

1. Пользователь открывает главную старницу;
2. Выбирает ту категорию, в которой хочет посмотреть анекдоты;
3. Приложение вывод список анекдотов данной категории;
4. Вариант использования завершается.

<a name="ban_user"/>
## 2.7 Забанить/Разбанить пользователя

**Описание.** Вариант использования "Забанить/Разбанить пользователя" позволяет администратору управлять статусом активности зарегистрированного пользователя.  
**Предусловия.** Забанить - пользователь предлагает анекдоты, выбрав не ту категорию несколько раз подряд, или используя нецензурную лексику. Разбанить - администратор решил снять бан раньше, чем истечет срок действия блокировки.
**Основной поток.**

1. Приложение отображает список пользователей;
2. Администратор находит нужного пользователя;
3. Нажимает на кнопку "Забанить/Разбанить" в зависимости от статуса пользователя;
4. Приложение меняет стотус пользователя на противоположный;
4. Вариант использования завершается.

<a name="add_joke"/>
## 2.8 Добавить/Изменить анекдот

**Описание.** Вариант использования "Добавить/Изменить анекдот" позволяет администратору добавить новый анекдот или изменить предыдущий.  
**Предусловия.** Администратор хочет добавить анекдот.  
**Основной поток.**

1. Пользователь нажимает кнопку "Добавить анекдот";
2. Приложение отображает форму для ввода анекдота;
3. Пользователь вводит текст анекдота и выбирает категорию;
4. Приложение проверят введённые данные на корректность (количество символов в тексте анекдота, существование выбранное категории). Если совпадение не выявлено, выполняется альтернативный поток А4;
5. Приложение сохраняет анекдот в базу данных;
6. Приложение скрывает форму ввода данных;
7. Вариант использования завершается.

**Альтернативный поток А5.**
1. Приложение сообщает администратору, что данные введены неверно;
2. Приложение запрашивает у администратора ввод других данных;
3. Возврат к п.2 основного потока.


<a name="add_category"/>
## 2.9 Добавить/Изменить категорию

**Описание.** Вариант использования "Добавить/Изменить категорию" позволяет администратору добавить новыю категорию или изменить предыдущую.  
**Предусловия.** Администратор хочет добавить категорию.  
**Основной поток.**

1. Пользователь нажимает кнопку "Добавить категорию";
2. Приложение отображает форму для ввода категории;
3. Пользователь вводит название категории;
4. Приложение проверят введённые данные на корректность (количество символов в названии). Если совпадение не выявлено, выполняется альтернативный поток А4;
5. Приложение сохраняет категорию в базу данных;
6. Приложение скрывает форму ввода данных;
7. Вариант использования завершается.

**Альтернативный поток А6.**
1. Приложение сообщает администратору, что данные введены неверно;
2. Приложение запрашивает у администратора ввод других данных;
3. Возврат к п.2 основного потока.
<a name="sign_out_of_your_account"/>

<a name="delete_category"/>
## 2.10 Удалить категорию

**Описание.** Вариант использования "Удалить категорию" позволяет администратору удалить категорию.  
**Предусловия.** Администратор хочет удалить категорию.  
**Основной поток.**

1. Пользователь нажимает кнопку "Удалить категорию";
2. Приложение помечает анекдоты из этой категории, как "Без категории";
2. Приложение удаляет категорию из базы данных;
4. Приложение выводит сообщение о успешном удалении;
5. Вариант использования завершается.


<a name="delete_joke"/>
## 2.11 Удалить анекдот

**Описание.** Вариант использования "Удалить анекдот" позволяет администратору удалить анекдот.  
**Предусловия.** Администратор хочет удалить анекдот.  
**Основной поток.**

1. Пользователь нажимает кнопку "Удалить анекдот";
2. Приложение удаляет анекдот из базы данных;
3. Приложение выводит сообщение о успешном удалении;
4. Вариант использования завершается.
